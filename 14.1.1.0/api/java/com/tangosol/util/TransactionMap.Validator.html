<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_251) on Thu Apr 29 16:41:22 GMT 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TransactionMap.Validator (Java API Reference for Oracle® Coherence Community Edition)</title>
<meta name="date" content="2021-04-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransactionMap.Validator (Java API Reference for Oracle\u00AE Coherence Community Edition)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionMap.Validator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Java API Reference for Oracle® Coherence Community Edition<br>       (14.1.1.0.5)</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/tangosol/util/Tree.html" title="class in com.tangosol.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tangosol/util/TransactionMap.Validator.html" target="_top">Frames</a></li>
<li><a href="TransactionMap.Validator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.tangosol.util</div>
<h2 title="Interface TransactionMap.Validator" class="title">Interface TransactionMap.Validator</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../com/tangosol/run/jca/SimpleValidator.html" title="class in com.tangosol.run.jca">SimpleValidator</a></dd>
</dl>
<dl>
<dt>Enclosing interface:</dt>
<dd><a href="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a></dd>
</dl>
<hr>
<br>
<pre>public static interface <span class="typeNameLabel">TransactionMap.Validator</span></pre>
<div class="block">A callback interface used by TransactionMap implementations.
 <p>
 By providing an implementation of this interface, it is possible to
 provide alternative strategies for verifying the correctness of
 concurrent execution of transactions.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tangosol/util/TransactionMap.Validator.html#enlist-com.tangosol.util.TransactionMap-java.lang.Object-">enlist</a></span>(<a href="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a>&nbsp;mapTx,
      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;oKey)</code>
<div class="block">Enlist the resource with the specified transaction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../com/tangosol/util/TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tangosol/util/TransactionMap.Validator.html#getNextValidator--">getNextValidator</a></span>()</code>
<div class="block">Retrive the next Validator.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tangosol/util/TransactionMap.Validator.html#setNextValidator-com.tangosol.util.TransactionMap.Validator-">setNextValidator</a></span>(<a href="../../../com/tangosol/util/TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a>&nbsp;v)</code>
<div class="block">Set the next Validator.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tangosol/util/TransactionMap.Validator.html#validate-com.tangosol.util.TransactionMap-java.util.Set-java.util.Set-java.util.Set-java.util.Set-java.util.Set-">validate</a></span>(<a href="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a>&nbsp;mapTx,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setInsert,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setUpdate,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setDelete,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setRead,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setPhantom)</code>
<div class="block">Validate that the content of the TransactionMap is "fit" to be
 committed into the base map.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="enlist-com.tangosol.util.TransactionMap-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enlist</h4>
<pre>void&nbsp;enlist(<a href="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a>&nbsp;mapTx,
            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;oKey)</pre>
<div class="block">Enlist the resource with the specified transaction.
 <p>
 This method is invoked for all resources that are "used" by the
 transaction immediately before the resource value is copied into
 the local map.
 <p>
 It is this method's responsibility to call a next Validator in the
 validation chain
 (i.e. <code>getNextValidator().enlist(map, okey);</code>)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mapTx</code> - the TransactionMap to enlist the resource with</dd>
<dd><code>oKey</code> - the resource key to be enlisted with the transaction</dd>
</dl>
</li>
</ul>
<a name="validate-com.tangosol.util.TransactionMap-java.util.Set-java.util.Set-java.util.Set-java.util.Set-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>void&nbsp;validate(<a href="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util">TransactionMap</a>&nbsp;mapTx,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setInsert,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setUpdate,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setDelete,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setRead,
              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;setPhantom)
       throws <a href="https://docs.oracle.com/javase/8/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</a></pre>
<div class="block">Validate that the content of the TransactionMap is "fit" to be
 committed into the base map.
 <p>
 This method is invoked during "prepare" phase after all the resources
 involved in this transaction are successfully locked at the base map.
 The Validator is expected to retrieve the "old" and "new" values
 (using <code>map.get(oKey)</code>, <code>map.getBaseMap().get(oKey)</code>)
 and use the information gathered during "enlist" calls to make
 the determination whether or not commit should be allowed to proceed.
 <p>
 To force a roll back it should throw an exception indicating the
 reason this transaction cannot be committed.
 When that happens, the sets are expected to hold just the keys
 of the "offending" resources.
 <p>
 It is this method's responsibility to call a next Validator in the
 validation chain (i.e. <code>
 getNextValidator().validate(map, setI, setU, setD, setR, setF);</code>)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mapTx</code> - the TransactionMap that is being prepared</dd>
<dd><code>setInsert</code> - the set of inserted resources</dd>
<dd><code>setUpdate</code> - the set of updated resources</dd>
<dd><code>setDelete</code> - the set of deleted resources</dd>
<dd><code>setRead</code> - the set of read resources. It is always empty for
                   TRANSACTION_GET_COMMITTED isolation level.</dd>
<dd><code>setPhantom</code> - the set of phantom resources, that is resources that
                   were added to the base map, but were not known to the
                   transaction. This set can be not empty only for
                   TRANSACTION_GET_SERIALIZED isolation level.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util">ConcurrentModificationException</a></code> - if the validator detects
            an unresolveable conflict between the resources</dd>
</dl>
</li>
</ul>
<a name="getNextValidator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextValidator</h4>
<pre><a href="../../../com/tangosol/util/TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a>&nbsp;getNextValidator()</pre>
<div class="block">Retrive the next Validator.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the next Validator</dd>
</dl>
</li>
</ul>
<a name="setNextValidator-com.tangosol.util.TransactionMap.Validator-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setNextValidator</h4>
<pre>void&nbsp;setNextValidator(<a href="../../../com/tangosol/util/TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a>&nbsp;v)</pre>
<div class="block">Set the next Validator.

 <b>Note:</b> This method cannot be called while in the middle
 of a validation (commit) phase.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>v</code> - the Validator to be added</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the next validator cannot be changed</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionMap.Validator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Java API Reference for Oracle® Coherence Community Edition<br>       (14.1.1.0.5)</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/tangosol/util/TransactionMap.html" title="interface in com.tangosol.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/tangosol/util/Tree.html" title="class in com.tangosol.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tangosol/util/TransactionMap.Validator.html" target="_top">Frames</a></li>
<li><a href="TransactionMap.Validator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>Copyright &copy; 2000, 2020, Oracle and/or its affiliates.        Licensed under the Universal Permissive License v 1.0 as shown at       http://oss.oracle.com/licenses/upl.</center></small></p>
</body>
</html>
