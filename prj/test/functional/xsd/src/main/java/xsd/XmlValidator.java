/* * Copyright (c) 2000, 2022, Oracle and/or its affiliates. * * Licensed under the Universal Permissive License v 1.0 as shown at * https://oss.oracle.com/licenses/upl. */package xsd;import com.tangosol.run.xml.SimpleParser;import com.tangosol.util.Base;import com.tangosol.util.Resources;import java.io.File;import java.io.IOException;import java.net.URL;/** * Used to validate an XML document. * * @author der * */public class XmlValidator        extends Base    {    /**     * validate method which calls xml parser invoking xsd validation.     *     * @param uri of the xml document     *     * @throws Exception IO or parser exception     */    public static void validate(String uri)        throws Exception        {        out("Validating xml file " + uri);        URL url = Resources.findFileOrResource(uri, getContextClassLoader());        if (url == null)            {            out("****** Error reading file " + uri + "********");            throw new IOException("Error reading file " + uri);            }        else            {            File   file = new File(url.toURI());            String sXml = new String(read(file));            new SimpleParser().parseXml(sXml);            }        }    /**     * main method used for invoking validation.     *     * @param argv uri of the xml document     *     * @throws Exception found during validation     */    public static void main(String[] argv)        throws Exception        {        if (argv.length == 0 || (argv.length == 1 && argv[0].equals("-help")))            {            System.out.println("\nUsage:  java XMLValidator file");            System.out.println("   XML document you want to validate.");            System.out.println("   Sample:  java XMLValidator my-cache-config.xml");            System.out.println("\nParses an XML document and writes any validation errors to the console.");            System.exit(1);            }        XmlValidator.validate(argv[0]);        }    }