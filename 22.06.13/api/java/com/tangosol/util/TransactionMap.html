<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>TransactionMap (Java API Reference for Oracle® Coherence Community Edition)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransactionMap (Java API Reference for Oracle\u00AE Coherence Community Edition)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionMap.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Java API Reference for Oracle® Coherence Community Edition<br>       (22.06.13)</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.tangosol.util</a></div>
<h2 title="Interface TransactionMap" class="title">Interface TransactionMap</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="ConcurrentMap.html" title="interface in com.tangosol.util">ConcurrentMap</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">TransactionMap</span>
extends <a href="ConcurrentMap.html" title="interface in com.tangosol.util">ConcurrentMap</a></pre>
<div class="block">ConcurrentMap with additional transaction support.
 <p>
 TransactionMap is a thread safe map that could be used by transactions.
 It maintains two copies of the data: the <i>base</i> [committed]
 and <i>local</i> [uncommitted].
 <p>
 In all cases, "get" operation reads the local map first and, if not found,
 the base map second. The "put" and "remove" always use the local map
 (using a special mark to denote the removed resources). Additionally,
 depending on a concurrency mode and transaction isolation level the
 processing strategy for various operations differs.

 <ul>
 <li> <a href="#CONCUR_PESSIMISTIC"><code>CONCUR_PESSIMISTIC</code></a>
   <ul>
   <li><a href="#TRANSACTION_GET_COMMITTED"><code>TRANSACTION_GET_COMMITTED</code></a><br>
      "put" and "remove" operations lock the corresponding resources on
       the base map.
   <li><a href="#TRANSACTION_REPEATABLE_GET"><code>TRANSACTION_REPEATABLE_GET</code></a><br>
      same as TRANSACTION_GET_COMMITTED plus "get" operations lock the
      corresponding resources on the base map.
   <li><a href="#TRANSACTION_SERIALIZABLE"><code>TRANSACTION_SERIALIZABLE</code></a><br>
      same as TRANSACTION_REPEATABLE_GET plus "keySet" operations lock the
      entire base map to prevent it from adding or removing resources
   </ul><br>
   During the "prepare" operation the locks for all the resources contained
   in the local map are checked (to make sure the locks did not expire).
   Upon successful validation the "commit" phase copies the local data
   into the base map and unlock everything.
   Any exception during "prepare" or "commit" causes the rollback which
   clears the local map and unlocks all relevant resources.
 <p>
 <li> <a href="#CONCUR_OPTIMISTIC"><code>CONCUR_OPTIMISTIC</code></a>
   <ul>
   <li><a href="#TRANSACTION_GET_COMMITTED"><code>TRANSACTION_GET_COMMITTED</code></a><br>
      no additional processing
   <li><a href="#TRANSACTION_REPEATABLE_GET"><code>TRANSACTION_REPEATABLE_GET</code></a><br>
      "get" operations move the retrieved values into the local map
   <li><a href="#TRANSACTION_SERIALIZABLE"><code>TRANSACTION_SERIALIZABLE</code></a><br>
      same as TRANSACTION_REPEATABLE_GET plus "keySet" operations move all
      the values to the local map and "disconnect" the base to prevent the
      "phantom" gets
   </ul><br>
   During the "prepare" operation an attempt is made to lock all the
   resources contained in the local map and, if successful, the affected
   key sets are validated using the current Validator (chain).
   Upon successful validation the "commit" phase copies the local data
   into the base map and unlocks everything.
   Any exception during "prepare" or "commit" causes the rollback which
   clears the local map and unlocks all relevant resources.
   <p>
 <li> <a href="#CONCUR_EXTERNAL"><code>CONCUR_EXTERNAL</code></a>
   <p>
   This concurrency strategy is very similar to the optimistic one, except that
   no locking is performed during the "prepare" operation and all
   synchronization and validation are assumed to be done by a supplied Validator.
 </ul></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>gg  2002.03.21</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://www.cs.wisc.edu/~nil/764/Trans/14_p213-kung.pdf">
 H.T. KUNG and JOHN T. ROBINSON, On Optimistic Methods for Concurrency
 Control, ACM Transactions on Database Systems, Vol. 6, No. 2, June 1981.</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a></span></code></th>
<td class="colLast">
<div class="block">A callback interface used by TransactionMap implementations.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.java.util.Map">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;java.util.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">Map.Entry</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">K</a> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util" class="externalLink">V</a> extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;</code></li>
</ul>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CONCUR_EXTERNAL">CONCUR_EXTERNAL</a></span></code></th>
<td class="colLast">
<div class="block">External concurrency.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CONCUR_OPTIMISTIC">CONCUR_OPTIMISTIC</a></span></code></th>
<td class="colLast">
<div class="block">Optimistic concurrency.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CONCUR_PESSIMISTIC">CONCUR_PESSIMISTIC</a></span></code></th>
<td class="colLast">
<div class="block">Pessimistic concurrency.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#TRANSACTION_GET_COMMITTED">TRANSACTION_GET_COMMITTED</a></span></code></th>
<td class="colLast">
<div class="block">Dirty gets are prevented; non-repeatable gets and phantom
 gets can occur.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#TRANSACTION_REPEATABLE_GET">TRANSACTION_REPEATABLE_GET</a></span></code></th>
<td class="colLast">
<div class="block">Dirty gets and non-repeatable gets are prevented; phantom
 gets can occur.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#TRANSACTION_SERIALIZABLE">TRANSACTION_SERIALIZABLE</a></span></code></th>
<td class="colLast">
<div class="block">Dirty gets, non-repeatable gets and phantom gets are prevented.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.tangosol.util.ConcurrentMap">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.tangosol.util.<a href="ConcurrentMap.html" title="interface in com.tangosol.util">ConcurrentMap</a></h3>
<code><a href="ConcurrentMap.html#LOCK_ALL">LOCK_ALL</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#begin()">begin</a></span>()</code></th>
<td class="colLast">
<div class="block">Start a transaction for this TransactionMap.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commit()">commit</a></span>()</code></th>
<td class="colLast">
<div class="block">Commit the changes made to the TransactionMap.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="ConcurrentMap.html" title="interface in com.tangosol.util">ConcurrentMap</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBaseMap()">getBaseMap</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the base map, which contains this TransactionMap's committed data.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConcurrency()">getConcurrency</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieve this TransactionMap's current concurrency mode.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransactionIsolation()">getTransactionIsolation</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieve this TransactionMap's current transaction isolation level.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTransactionTimeout()">getTransactionTimeout</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieve transaction timeout value for this TransactionMap.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getValidator()">getValidator</a></span>()</code></th>
<td class="colLast">
<div class="block">Retrieve the topmost Validator in TransactionMap's validation chain.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isValuesImmutable()">isValuesImmutable</a></span>()</code></th>
<td class="colLast">
<div class="block">Check whether or not the values stored in this TransactionMap are
 known to be immutable.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#prepare()">prepare</a></span>()</code></th>
<td class="colLast">
<div class="block">Prepare to commit changes made to the TransactionMap.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollback()">rollback</a></span>()</code></th>
<td class="colLast">
<div class="block">Rollback the changes made to the TransactionMap.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setConcurrency(int)">setConcurrency</a></span>&#8203;(int&nbsp;nConcurrency)</code></th>
<td class="colLast">
<div class="block">Attempt to change the concurrency mode to the given value.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTransactionIsolation(int)">setTransactionIsolation</a></span>&#8203;(int&nbsp;nLevel)</code></th>
<td class="colLast">
<div class="block">Attempt to change the transaction isolation level to the specified value.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTransactionTimeout(int)">setTransactionTimeout</a></span>&#8203;(int&nbsp;cSeconds)</code></th>
<td class="colLast">
<div class="block">Set transaction timeout value for this TransactionMap.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setValidator(com.tangosol.util.TransactionMap.Validator)">setValidator</a></span>&#8203;(<a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a>&nbsp;validator)</code></th>
<td class="colLast">
<div class="block">Add the specified Validator to the top of validation chain
 for this TransactionMap.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setValuesImmutable(boolean)">setValuesImmutable</a></span>&#8203;(boolean&nbsp;fImmutable)</code></th>
<td class="colLast">
<div class="block">Specify whether or not the values stored in this TransactionMap are
 known to be immutable.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.com.tangosol.util.ConcurrentMap">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.tangosol.util.<a href="ConcurrentMap.html" title="interface in com.tangosol.util">ConcurrentMap</a></h3>
<code><a href="ConcurrentMap.html#clear()">clear</a>, <a href="ConcurrentMap.html#containsKey(java.lang.Object)">containsKey</a>, <a href="ConcurrentMap.html#containsValue(java.lang.Object)">containsValue</a>, <a href="ConcurrentMap.html#get(java.lang.Object)">get</a>, <a href="ConcurrentMap.html#isEmpty()">isEmpty</a>, <a href="ConcurrentMap.html#lock(java.lang.Object)">lock</a>, <a href="ConcurrentMap.html#lock(java.lang.Object,long)">lock</a>, <a href="ConcurrentMap.html#put(K,V)">put</a>, <a href="ConcurrentMap.html#putAll(java.util.Map)">putAll</a>, <a href="ConcurrentMap.html#remove(java.lang.Object)">remove</a>, <a href="ConcurrentMap.html#size()">size</a>, <a href="ConcurrentMap.html#unlock(java.lang.Object)">unlock</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.util.Map">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.util.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#compute(K,java.util.function.BiFunction)" title="class or interface in java.util" class="externalLink">compute</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#computeIfAbsent(K,java.util.function.Function)" title="class or interface in java.util" class="externalLink">computeIfAbsent</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#computeIfPresent(K,java.util.function.BiFunction)" title="class or interface in java.util" class="externalLink">computeIfPresent</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#entrySet()" title="class or interface in java.util" class="externalLink">entrySet</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.util" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#forEach(java.util.function.BiConsumer)" title="class or interface in java.util" class="externalLink">forEach</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#getOrDefault(java.lang.Object,V)" title="class or interface in java.util" class="externalLink">getOrDefault</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#hashCode()" title="class or interface in java.util" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#keySet()" title="class or interface in java.util" class="externalLink">keySet</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#merge(K,V,java.util.function.BiFunction)" title="class or interface in java.util" class="externalLink">merge</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#putIfAbsent(K,V)" title="class or interface in java.util" class="externalLink">putIfAbsent</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#remove(java.lang.Object,java.lang.Object)" title="class or interface in java.util" class="externalLink">remove</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#replace(K,V)" title="class or interface in java.util" class="externalLink">replace</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#replace(K,V,V)" title="class or interface in java.util" class="externalLink">replace</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#replaceAll(java.util.function.BiFunction)" title="class or interface in java.util" class="externalLink">replaceAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html?is-external=true#values()" title="class or interface in java.util" class="externalLink">values</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="TRANSACTION_GET_COMMITTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRANSACTION_GET_COMMITTED</h4>
<pre>static final&nbsp;int TRANSACTION_GET_COMMITTED</pre>
<div class="block">Dirty gets are prevented; non-repeatable gets and phantom
 gets can occur.  This level only prohibits a transaction
 from getting an uncommitted values from a map.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.tangosol.util.TransactionMap.TRANSACTION_GET_COMMITTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="TRANSACTION_REPEATABLE_GET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRANSACTION_REPEATABLE_GET</h4>
<pre>static final&nbsp;int TRANSACTION_REPEATABLE_GET</pre>
<div class="block">Dirty gets and non-repeatable gets are prevented; phantom
 gets can occur.  This level prohibits a transaction from
 getting an uncommitted values in a map, and it also
 prohibits the situation where one transaction gets a value,
 a second transaction alters the value, and the first transaction
 retrieves the value again, getting a different values the second time
 (a "non-repeatable get").</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.tangosol.util.TransactionMap.TRANSACTION_REPEATABLE_GET">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="TRANSACTION_SERIALIZABLE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRANSACTION_SERIALIZABLE</h4>
<pre>static final&nbsp;int TRANSACTION_SERIALIZABLE</pre>
<div class="block">Dirty gets, non-repeatable gets and phantom gets are prevented.
 This level includes the prohibitions in TRANSACTION_REPEATABLE_GET
 and further prohibits the situation where one transaction gets
 an iterator for keys or values, a second transaction inserts a value,
 and the first transaction requests an iterator again, retrieving
 the additional "phantom" values the second time.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.tangosol.util.TransactionMap.TRANSACTION_SERIALIZABLE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CONCUR_PESSIMISTIC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONCUR_PESSIMISTIC</h4>
<pre>static final&nbsp;int CONCUR_PESSIMISTIC</pre>
<div class="block">Pessimistic concurrency. Every time an item is added to the
 TransactionMap (as a result of either "put", "remove" or "get" operation)
 the corresponding item is "locked" at the base.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.tangosol.util.TransactionMap.CONCUR_PESSIMISTIC">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CONCUR_OPTIMISTIC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONCUR_OPTIMISTIC</h4>
<pre>static final&nbsp;int CONCUR_OPTIMISTIC</pre>
<div class="block">Optimistic concurrency. No locking occurs during "put", "remove" or "get"
 operations. All synchronization and validation is instead deferred until
 the "prepare" time.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.tangosol.util.TransactionMap.CONCUR_OPTIMISTIC">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CONCUR_EXTERNAL">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CONCUR_EXTERNAL</h4>
<pre>static final&nbsp;int CONCUR_EXTERNAL</pre>
<div class="block">External concurrency. No locking is performed automatically. All
 synchronization and validation are assumed to be done by a custom
 transaction Validator during the <a href="TransactionMap.Validator.html#validate(com.tangosol.util.TransactionMap,java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set)"><code>validate</code></a>
 call.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Coherence 3.3</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.tangosol.util.TransactionMap.CONCUR_EXTERNAL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getBaseMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBaseMap</h4>
<pre class="methodSignature"><a href="ConcurrentMap.html" title="interface in com.tangosol.util">ConcurrentMap</a>&nbsp;getBaseMap()</pre>
<div class="block">Return the base map, which contains this TransactionMap's committed data.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ConcurrentMap serving as a base for this TransactionMap.</dd>
</dl>
</li>
</ul>
<a id="getTransactionIsolation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionIsolation</h4>
<pre class="methodSignature">int&nbsp;getTransactionIsolation()</pre>
<div class="block">Retrieve this TransactionMap's current transaction isolation level.
 <p>
 The TRANSACTION_* constants defined in this interface are the
 possible transaction isolation levels.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current TRANSACTION_* isolation value</dd>
</dl>
</li>
</ul>
<a id="setTransactionIsolation(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionIsolation</h4>
<pre class="methodSignature">void&nbsp;setTransactionIsolation&#8203;(int&nbsp;nLevel)</pre>
<div class="block">Attempt to change the transaction isolation level to the specified value.
 <p>
 The TRANSACTION_* constants defined in this interface are the
 possible transaction isolation levels.
 <p>
 <b>Note:</b> This method cannot be called while in the middle
 of a transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nLevel</code> - one of the TRANSACTION_* isolation values</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the transaction isolation
            level cannot be changed</dd>
</dl>
</li>
</ul>
<a id="getConcurrency()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConcurrency</h4>
<pre class="methodSignature">int&nbsp;getConcurrency()</pre>
<div class="block">Retrieve this TransactionMap's current concurrency mode.
 <p>
 The CONCUR_* constants defined in this interface are the possible
 concurrency mode values.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current CONCUR_* mode</dd>
</dl>
</li>
</ul>
<a id="setConcurrency(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConcurrency</h4>
<pre class="methodSignature">void&nbsp;setConcurrency&#8203;(int&nbsp;nConcurrency)</pre>
<div class="block">Attempt to change the concurrency mode to the given value.
 <p>
 The CONCUR_* constants defined in this interface are the possible
 concurrency mode values.
 <p>
 <b>Note:</b> This method cannot be called while in the middle
 of a transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nConcurrency</code> - one of the CONCUR_* mode values</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the concurrency mode
            cannot be changed</dd>
</dl>
</li>
</ul>
<a id="isValuesImmutable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValuesImmutable</h4>
<pre class="methodSignature">boolean&nbsp;isValuesImmutable()</pre>
<div class="block">Check whether or not the values stored in this TransactionMap are
 known to be immutable.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true iff the values are known to be immutable</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Coherence 2.3</dd>
</dl>
</li>
</ul>
<a id="setValuesImmutable(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValuesImmutable</h4>
<pre class="methodSignature">void&nbsp;setValuesImmutable&#8203;(boolean&nbsp;fImmutable)</pre>
<div class="block">Specify whether or not the values stored in this TransactionMap are
 known to be immutable.
 <p>
 If the values are not known to be immutable, TransactionMap must
 assume that they are mutable, and will clone the objects returned by
 the "get" method to ensure that any changes made to those values are
 rolled back if the transaction is rolled back.
 <p>
 By explicitly specifying that the values are known to be immutable,
 the TransactionMap is permitted to skip the cloning step, which may
 result in better performance.
 <p>
 <b>Note:</b> This method cannot be called while in the middle
 of a transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fImmutable</code> - true iff the values are known to be immutable</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the setting cannot be changed</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Coherence 2.3</dd>
</dl>
</li>
</ul>
<a id="getTransactionTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionTimeout</h4>
<pre class="methodSignature">int&nbsp;getTransactionTimeout()</pre>
<div class="block">Retrieve transaction timeout value for this TransactionMap.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>transaction timeout value in seconds.</dd>
</dl>
</li>
</ul>
<a id="setTransactionTimeout(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionTimeout</h4>
<pre class="methodSignature">void&nbsp;setTransactionTimeout&#8203;(int&nbsp;cSeconds)</pre>
<div class="block">Set transaction timeout value for this TransactionMap.
 <p>
 <b>Note:</b> This method cannot be called while in the middle
 of a transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cSeconds</code> - transaction timeout value in seconds.
        Value of zero means "no timeout".</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the concurrency mode
            cannot be changed</dd>
</dl>
</li>
</ul>
<a id="getValidator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValidator</h4>
<pre class="methodSignature"><a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a>&nbsp;getValidator()</pre>
<div class="block">Retrieve the topmost Validator in TransactionMap's validation chain.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current Validator</dd>
</dl>
</li>
</ul>
<a id="setValidator(com.tangosol.util.TransactionMap.Validator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setValidator</h4>
<pre class="methodSignature">void&nbsp;setValidator&#8203;(<a href="TransactionMap.Validator.html" title="interface in com.tangosol.util">TransactionMap.Validator</a>&nbsp;validator)</pre>
<div class="block">Add the specified Validator to the top of validation chain
 for this TransactionMap. The Validator is only used if the
 concurrency setting is CONCUR_OPTIMISTIC or CONCUR_EXTERNAL.
 <p>
 <b>Note:</b> This method cannot be called while in the middle
 of a transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>validator</code> - the Validator to be added</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if the validator cannot be added</dd>
</dl>
</li>
</ul>
<a id="begin()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>begin</h4>
<pre class="methodSignature">void&nbsp;begin()</pre>
<div class="block">Start a transaction for this TransactionMap. After this method is
 called and before commit or rollback are called, attempt to change
 the concurrency, isolation or timeout value will throw an exception.
 <p>
 <b>Note:</b> specifc implementations may choose to support the
 concept of an implicit begin of a transaction making this
 operation a no-op.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if this TransactionMap has been
            already started</dd>
</dl>
</li>
</ul>
<a id="prepare()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepare</h4>
<pre class="methodSignature">void&nbsp;prepare()</pre>
<div class="block">Prepare to commit changes made to the TransactionMap. This phase
 usually ensures that all resources involved in this transaction are
 locked at the base map and validated by the current Validator.
 If this map serves as a base to another (nested) TransactionMap,
 specific implementations may choose to not allow its data to be
 prepared until the nested map is either committed or rolled back.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util" class="externalLink">ConcurrentModificationException</a></code> - if the changes cannot be
            prepared due to the concurrency limitations</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if this TransactionMap serves as a
            base to a nested TransactionMap that has not yet been
            committed or rolled back</dd>
</dl>
</li>
</ul>
<a id="commit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre class="methodSignature">void&nbsp;commit()</pre>
<div class="block">Commit the changes made to the TransactionMap. This effectively
 means copying the content of this map into the base map, clearing
 the content of this map and releasing all the locks.
 If this map serves as a base to another (nested) TransactionMap,
 specific implementations may choose to not allow its data to be
 committed until the nested map is either committed or rolled back.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util" class="externalLink">ConcurrentModificationException</a></code> - if the changes cannot be
            committed due to the concurrency limitations</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - if this TransactionMap serves as a
            base to a nested TransactionMap that has not yet been
            committed or rolled back</dd>
</dl>
</li>
</ul>
<a id="rollback()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>rollback</h4>
<pre class="methodSignature">void&nbsp;rollback()</pre>
<div class="block">Rollback the changes made to the TransactionMap. This effectively
 means clearing the content of this map and releasing all the locks
 without changing the content of the base map.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionMap.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Java API Reference for Oracle® Coherence Community Edition<br>       (22.06.13)</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><script>                       if (typeof useModuleDirectories !== 'undefined') {                         useModuleDirectories = false;                       }                       </script></small></p>
</footer>
</body>
</html>
